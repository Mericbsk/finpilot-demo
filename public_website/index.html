<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="FinPilot: AI-Powered Trading Cockpit. Manage risk, scan markets, and learn financial literacy with our advanced terminal.">
    <meta name="keywords" content="trading, ai, finance, stock market, risk management, financial literacy">
    <title>FinPilot - AI Powered Trading Cockpit</title>

    <!-- PWA Meta Tags -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#6366F1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="FinPilot">
    <link rel="apple-touch-icon" href="/icons/icon-192x192.png">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/icon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/icon-16x16.png">

    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="logo">FinPilot</div>
        <div class="nav-links">
            <a href="index.html" data-i18n="nav_home">Home</a>
            <a href="about.html" data-i18n="nav_about">About</a>
            <a href="contact.html" data-i18n="nav_contact">Contact</a>
            <select id="language-select" class="lang-select" title="Select Language">
                <option value="en">EN</option>
                <option value="tr">TR</option>
                <option value="de">DE</option>
            </select>
        </div>
        <a href="#beta" class="cta-button small" data-i18n="nav_early_access">Early Access</a>
    </nav>

    <header class="hero">
        <div class="hero-content">
            <h1 data-i18n="hero_title">AI-Powered <span class="highlight">Trading Cockpit</span></h1>
            <p data-i18n="hero_desc">Manage risk automatically, rank opportunities, and connect decisions to data. FinPilot turns complex market data into a clear roadmap for you.</p>
            <div class="hero-buttons">
                <a href="#beta" class="cta-button" data-i18n="hero_beta">Join Beta</a>
                <a href="#features" class="secondary-button" data-i18n="hero_features">Explore Features</a>
            </div>
        </div>
        <div class="hero-image">
            <div class="placeholder-image">
                <div class="mockup-header">
                    <div class="mockup-dot red"></div>
                    <div class="mockup-dot yellow"></div>
                    <div class="mockup-dot green"></div>
                </div>
                <div class="mockup-body">
                    <div class="mockup-chart">
                        <div class="candle down"></div>
                        <div class="candle up"></div>
                        <div class="candle down"></div>
                        <div class="candle up"></div>
                        <div class="candle up-long"></div>
                        <div class="candle down"></div>
                        <div class="candle up"></div>
                    </div>
                    <div class="mockup-sidebar">
                        <div class="mockup-item"></div>
                        <div class="mockup-item"></div>
                        <div class="mockup-item"></div>
                        <div class="mockup-item"></div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <section id="features" class="features">
        <h2 data-i18n="feat_title">Why FinPilot?</h2>
        <div class="feature-grid">
            <div class="feature-card">
                <div class="icon">‚ö°</div>
                <h3 data-i18n="feat_1_title">Instant Scan Engine</h3>
                <p data-i18n="feat_1_desc">Scans 500+ symbols in seconds with ML models. Liquid segments and momentum thresholds are automatically calibrated.</p>
            </div>
            <div class="feature-card">
                <div class="icon">üõ°Ô∏è</div>
                <h3 data-i18n="feat_2_title">Risk Pilot Automation</h3>
                <p data-i18n="feat_2_desc">Suggests lot sizes based on Kelly, ATR, and volatility limits. Automatically determines stop-loss & take-profit levels.</p>
            </div>
            <div class="feature-card">
                <div class="icon">üìä</div>
                <h3 data-i18n="feat_3_title">Transparent Analytics</h3>
                <p data-i18n="feat_3_desc">Metrics and data sources for every signal on a single card. Verify ideas quickly with sentiment & on-chain data.</p>
            </div>
        </div>
    </section>

    <section id="finsense" class="features">
        <h2 data-i18n="fin_title">FinSense: Financial Literacy</h2>
        <p class="section-desc" data-i18n="fin_desc">Don't just trade, learn. FinPilot explains the 'Why' behind every move.</p>
        <div class="feature-grid">
            <div class="feature-card">
                <div class="icon">üéì</div>
                <h3 data-i18n="fin_1_title">Interactive Dictionary</h3>
                <p data-i18n="fin_1_desc">Learn complex financial terms instantly while analyzing charts.</p>
            </div>
            <div class="feature-card">
                <div class="icon">üß†</div>
                <h3 data-i18n="fin_2_title">Strategy Decoder</h3>
                <p data-i18n="fin_2_desc">Understand how algorithms work with plain language explanations.</p>
            </div>
        </div>
    </section>

    <section id="beta" class="cta-section">
        <h2 data-i18n="beta_title">Try the Future Financial Terminal First</h2>
        <p data-i18n="beta_desc">Join a limited number of beta users and help us shape FinPilot.</p>
        <form class="beta-form" id="betaForm" action="send_email.php" method="POST">
            <input type="email" name="email" data-i18n="beta_placeholder" placeholder="Your email address" required>
            <button type="submit" class="cta-button" data-i18n="beta_btn">Request Early Access</button>
        </form>
        <p class="form-success" id="formSuccess" data-i18n="form_success">Thanks! You've been added to the waitlist.</p>
    </section>

    <footer>
        <div class="footer-links">
            <a href="privacy.html" data-i18n="footer_privacy">Privacy Policy</a>
            <a href="terms.html" data-i18n="footer_terms">Terms of Use</a>
        </div>
        <p data-i18n="footer_rights">&copy; 2025 FinPilot. All rights reserved.</p>
    </footer>

    <script src="translations.js"></script>

    <!-- PWA Service Worker Registration -->
    <script>
        // Register Service Worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((registration) => {
                        console.log('ServiceWorker registered:', registration.scope);

                        // Check for updates
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // New content available, show update notification
                                    showUpdateNotification();
                                }
                            });
                        });
                    })
                    .catch((error) => {
                        console.log('ServiceWorker registration failed:', error);
                    });
            });
        }

        // PWA Install Prompt
        let deferredPrompt;

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            showInstallButton();
        });

        function showInstallButton() {
            const installBtn = document.createElement('button');
            installBtn.id = 'pwa-install-btn';
            installBtn.className = 'pwa-install-btn';
            installBtn.innerHTML = 'üì± Install App';
            installBtn.onclick = installPWA;

            // Add to hero buttons
            const heroButtons = document.querySelector('.hero-buttons');
            if (heroButtons) {
                heroButtons.appendChild(installBtn);
            }
        }

        async function installPWA() {
            if (!deferredPrompt) return;

            deferredPrompt.prompt();
            const { outcome } = await deferredPrompt.userChoice;

            console.log('PWA install outcome:', outcome);
            deferredPrompt = null;

            // Hide install button
            const btn = document.getElementById('pwa-install-btn');
            if (btn) btn.remove();
        }

        function showUpdateNotification() {
            const notification = document.createElement('div');
            notification.className = 'update-notification';
            notification.innerHTML = `
                <span>üîÑ New version available!</span>
                <button onclick="location.reload()">Update</button>
            `;
            document.body.appendChild(notification);
        }
    </script>

    <style>
        /* PWA Install Button */
        .pwa-install-btn {
            background: linear-gradient(135deg, #22C55E 0%, #16A34A 100%);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            border: none;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-left: 12px;
        }

        .pwa-install-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(34, 197, 94, 0.4);
        }

        /* Update Notification */
        .update-notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #1E1E2E;
            color: white;
            padding: 16px 24px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 16px;
            z-index: 9999;
            animation: slideUp 0.3s ease;
        }

        .update-notification button {
            background: #6366F1;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }
    </style>
</body>
</html>
